(function(a){var d={animateTime:300},b=function(e,c){this.options=a.extend(d,c);this.el=e;this.elementHeight=2*e.height();this.elementTop=parseInt(e.css("top"),10);this.documentHeight=a(document).height();this.windowHeight=a(window).height();this.sclDown=this.sclUp=this.lastFromTop=0;this.lowerHit=this.upperHit=!1;this.lastScroll=0;var b=this;a(window).resize(function(){b.onResize()});a(window).scroll(function(){b.onScroll()})};b.prototype.hideMenu=function(){a(this.el).animate({opacity:0,top:"-="+
this.elementHeight},this.options.animateTime)};b.prototype.showMenu=function(){a(this.el).animate({opacity:1,top:this.elementTop},this.options.animateTime)};b.prototype.onResize=function(){this.documentHeight=a(document).height();this.windowHeight=a(window).height()};b.prototype.onScroll=function(){var b=+new Date,c=a(window).scrollTop(),d=c>=this.documentHeight-this.windowHeight-5;250>b-this.lastScroll||(!d&&c>this.lastFromTop?(this.sclUp=0,this.lowerHit=!1,this.sclDown+=c-this.lastFromTop,!this.upperHit&&
this.sclDown>this.elementHeight&&(this.upperHit=!0,this.hideMenu())):(this.sclDown=0,this.upperHit=!1,this.sclUp+=this.lastFromTop-c,!this.lowerHit&&(this.sclUp>this.elementHeight||c>=this.windowHeight)&&(this.lowerHit=!0,this.showMenu(c))),this.lastFromTop=c,this.lastScroll=b)};a.fn.stickychimp=function(a){new b(this,a)}})(jQuery);