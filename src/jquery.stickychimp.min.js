(function(e){"use strict";var t={animateTime:300};var n=function(n,r){this.options=e.extend(t,r);this.el=n;this.elementHeight=n.height();this.elementTop=parseInt(n.css("top"),10);this.documentHeight=e(document).height();this.windowHeight=e(window).height();this.lastFromTop=0;this.sclUp=0;this.sclDown=0;this.upperHit=false;this.lowerHit=false;this.lastScroll=0;var i=this;e(window).resize(function(){i.onResize()});e(window).scroll(function(){i.onScroll()})};n.prototype.hideMenu=function(){e(this.el).stop().animate({opacity:0,top:"-="+this.elementHeight},this.options.animateTime,function(){e(this).css("top")})};n.prototype.showMenu=function(t){e(this.el).stop().animate({opacity:1,top:this.elementTop>0&&t<this.elementTop?this.elementTop:0},this.options.animateTime)};n.prototype.onResize=function(){this.documentHeight=e(document).height();this.windowHeight=e(window).height()};n.prototype.onScroll=function(){var t=+(new Date),n=e(window).scrollTop(),r=n>=this.documentHeight-this.windowHeight-5;if(this.elementTop===0){if(t-this.lastScroll<250){return}}else{var i=n<0?0:n;e(this.el).css("top",n>this.elementTop?0:this.elementTop-i)}if(n<=0){e(this.el).stop(true);e(this.el).show().fadeTo(0,1).css("top",this.elementTop)}if(!r&&n>this.lastFromTop){this.sclUp=0;this.lowerHit=false;this.sclDown+=n-this.lastFromTop;if(!this.upperHit&&this.sclDown>this.elementHeight){this.upperHit=true;this.hideMenu()}}else{this.sclDown=0;this.upperHit=false;this.sclUp+=this.lastFromTop-n;if(!this.lowerHit&&(this.sclUp>this.elementHeight||n>=this.windowHeight)){this.lowerHit=true;this.showMenu(n)}}this.lastFromTop=n;this.lastScroll=t};e.fn.stickychimp=function(e){new n(this,e)};e(window).on("load",function(){e('[data-toggle="stickychimp"]').each(function(){var t=e(this);new n(t,t.data())})})})(jQuery)