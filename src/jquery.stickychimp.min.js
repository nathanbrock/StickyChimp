(function(a){var e={animateTime:300},c=function(d,b){this.options=a.extend(e,b);this.el=d;this.elementHeight=d.height();this.elementTop=parseInt(d.css("top"),10);this.documentHeight=a(document).height();this.windowHeight=a(window).height();this.sclDown=this.sclUp=this.lastFromTop=0;this.lowerHit=this.upperHit=!1;this.lastScroll=0;var c=this;a(window).resize(function(){c.onResize()});a(window).scroll(function(){c.onScroll()})};c.prototype.hideMenu=function(){a(this.el).stop().animate({opacity:0,top:"-="+
this.elementHeight},this.options.animateTime,function(){a(this).css("top")})};c.prototype.showMenu=function(d){a(this.el).stop().animate({opacity:1,top:0<this.elementTop&&d<this.elementTop?this.elementTop:0},this.options.animateTime)};c.prototype.onResize=function(){this.documentHeight=a(document).height();this.windowHeight=a(window).height()};c.prototype.onScroll=function(){var d=+new Date,b=a(window).scrollTop(),c=b>=this.documentHeight-this.windowHeight-5;if(0===this.elementTop){if(250>d-this.lastScroll)return}else{var e=
0>b?0:b;a(this.el).css("top",b>this.elementTop?0:this.elementTop-e)}0>=b&&(a(this.el).stop(!0),a(this.el).show().fadeTo(0,1).css("top",this.elementTop));!c&&b>this.lastFromTop?(this.sclUp=0,this.lowerHit=!1,this.sclDown+=b-this.lastFromTop,!this.upperHit&&this.sclDown>this.elementHeight&&(this.upperHit=!0,this.hideMenu())):(this.sclDown=0,this.upperHit=!1,this.sclUp+=this.lastFromTop-b,!this.lowerHit&&(this.sclUp>this.elementHeight||b>=this.windowHeight)&&(this.lowerHit=!0,this.showMenu(b)));this.lastFromTop=
b;this.lastScroll=d};a.fn.stickychimp=function(a){new c(this,a)}})(jQuery);