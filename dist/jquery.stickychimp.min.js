/*! jquery.stickychimp 02-02-2014 v0.3.0 */
!function(a){"use strict";var b={animateTime:300},c=function(c,d){console.log("sticky"),this.options=a.extend(b,d),this.el=c,this.elementHeight=c.height(),this.elementTop=parseInt(c.css("top"),10),this.documentHeight=a(document).height(),this.windowHeight=a(window).height(),this.lastFromTop=0,this.sclUp=0,this.sclDown=0,this.upperHit=!1,this.lowerHit=!1,this.lastScroll=0;var e=this;a(window).resize(function(){e.onResize()}),a(window).scroll(function(){e.onScroll()})};c.prototype.hideMenu=function(){a(this.el).stop().animate({opacity:0,top:"-="+this.elementHeight},this.options.animateTime,function(){a(this).css("top")})},c.prototype.showMenu=function(b){a(this.el).stop().animate({opacity:1,top:this.elementTop>0&&b<this.elementTop?this.elementTop:0},this.options.animateTime)},c.prototype.onResize=function(){this.documentHeight=a(document).height(),this.windowHeight=a(window).height()},c.prototype.onScroll=function(){var b=+new Date,c=a(window).scrollTop(),d=c>=this.documentHeight-this.windowHeight-5;if(console.log("onscroll"),0===this.elementTop){if(b-this.lastScroll<250)return}else{var e=0>c?0:c;a(this.el).css("top",c>this.elementTop?0:this.elementTop-e)}0>c||(0>=c&&(a(this.el).stop(!0),a(this.el).show().fadeTo(0,1).css("top",this.elementTop)),!d&&c>this.lastFromTop?(this.sclUp=0,this.lowerHit=!1,this.sclDown+=c-this.lastFromTop,!this.upperHit&&this.sclDown>this.elementHeight&&(this.upperHit=!0,this.hideMenu(c))):(this.sclDown=0,this.upperHit=!1,this.sclUp+=this.lastFromTop-c,!this.lowerHit&&(this.sclUp>this.elementHeight||c>=this.windowHeight)&&(this.lowerHit=!0,this.showMenu(c))),this.lastFromTop=c,this.lastScroll=b)},a.fn.stickychimp=function(a){new c(this,a)},a(window).on("load",function(){a('[data-toggle="stickychimp"]').each(function(){var b=a(this);new c(b,b.data())})})}(jQuery);